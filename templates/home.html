{% extends 'base.html' %}

{% block title %}Home - Structure Comparison{% endblock %}

{% block extra_css %}
{% load static %}
<link rel="stylesheet" href="{% static 'rtstructcompare/css/home.css' %}">
{% endblock %}

{% block content %}
<div class="home-shell">
    <section class="container mx-auto px-6 py-16">
        <div class="grid lg:grid-cols-[1.1fr_0.9fr] gap-12 items-center">
            <div>
                <div class="hero-badge">Clinical QA Workspace</div>
                <h1 class="text-4xl md:text-5xl font-semibold leading-tight mt-4">
                    Structure Comparison for Radiotherapy Teams
                </h1>
                <p class="text-lg text-slate-600 mt-4 max-w-xl">
                    A secure, role-based environment for comparing RTSTRUCT data, capturing ROI feedback, and managing
                    review assignments with traceability.
                </p>
                <div class="flex flex-wrap gap-4 mt-8">
                    {% if request.user.is_authenticated %}
                        <a href="{% url 'patients' %}" class="cta-primary">Go to My Patients</a>
                        {% if request.user.is_staff %}
                            <a href="{% url 'admin_dashboard' %}" class="cta-secondary">Admin Dashboard</a>
                        {% endif %}
                    {% else %}
                        <a href="{% url 'login' %}" class="cta-primary">Login</a>
                        <a href="#request-access" class="cta-secondary">Request Access</a>
                    {% endif %}
                </div>
                <div class="flex flex-wrap gap-4 text-sm text-slate-500 mt-6">
                    <span>Role-based assignments</span>
                    <span>ROI-level feedback capture</span>
                    <span>Audit-ready review trail</span>
                </div>
            </div>
            <div class="hero-card">
                <h3 class="text-xl font-semibold">Workflow snapshot</h3>
                <p class="text-slate-600 mt-2">
                    Streamline multidisciplinary review with a single workspace for imaging, structure overlays, and feedback.
                </p>
                <div class="grid gap-3 mt-6">
                    <div class="step">
                        <div class="text-sm font-semibold text-slate-800">1. Assign review workload</div>
                        <div class="text-sm text-slate-600">Admins allocate patients to raters and reviewers.</div>
                    </div>
                    <div class="step">
                        <div class="text-sm font-semibold text-slate-800">2. Compare RTSTRUCTs</div>
                        <div class="text-sm text-slate-600">Visualize overlays and inspect ROI differences.</div>
                    </div>
                    <div class="step">
                        <div class="text-sm font-semibold text-slate-800">3. Capture structured feedback</div>
                        <div class="text-sm text-slate-600">Record ratings with comments for downstream QA.</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="container mx-auto px-6 py-6">
        <div class="grid md:grid-cols-3 gap-6">
            <div class="metric-card">
                <h3 class="text-lg font-semibold">Operational metrics</h3>
                <p class="text-sm mt-2">Track assignment coverage, reviewer throughput, and feedback completion after login.</p>
            </div>
            <div class="metric-card">
                <h3 class="text-lg font-semibold">Quality indicators</h3>
                <p class="text-sm mt-2">Measure ROI agreement, revision notes, and review confidence across teams.</p>
            </div>
            <div class="metric-card">
                <h3 class="text-lg font-semibold">Audit visibility</h3>
                <p class="text-sm mt-2">Maintain structured traceability for every feedback decision and change.</p>
            </div>
        </div>
    </section>

    <section class="container mx-auto px-6 py-14">
        <div class="text-center max-w-2xl mx-auto">
            <h2 class="section-title">Purpose-built for clinical review</h2>
            <p class="section-subtitle">
                Everything you need to coordinate RTSTRUCT comparison across teams without exposing patient data publicly.
            </p>
        </div>
        <div class="grid md:grid-cols-3 gap-6 mt-10">
            <div class="feature-card">
                <h3 class="text-lg font-semibold">Multi-structure visualization</h3>
                <p class="text-sm text-slate-600">Overlay RTSTRUCT sets with precise contour inspection tools.</p>
            </div>
            <div class="feature-card">
                <h3 class="text-lg font-semibold">Controlled access</h3>
                <p class="text-sm text-slate-600">Role-based dashboards ensure users see only assigned patients.</p>
            </div>
            <div class="feature-card">
                <h3 class="text-lg font-semibold">Structured feedback</h3>
                <p class="text-sm text-slate-600">Capture reviewer decisions with ROI-level annotations and comments.</p>
            </div>
        </div>
    </section>

    <section class="container mx-auto px-6 py-12">
        <div class="access-panel" id="request-access">
            <div class="grid md:grid-cols-[1.3fr_0.7fr] gap-6 items-center">
                <div>
                    <h2 class="text-2xl font-semibold">Request access</h2>
                    <p class="mt-2">
                        Access is managed by your administrator. Use the login if you already have credentials or request
                        onboarding through your clinical lead.
                    </p>
                </div>
                <div class="flex flex-wrap gap-3">
                    <a href="{% url 'admin:login' %}" class="cta-primary">Login</a>
                    <a href="mailto:admin@your-organization.com" class="cta-secondary">Email Admin</a>
                </div>
            </div>
        </div>
    </section>
</div>
{% endblock %}
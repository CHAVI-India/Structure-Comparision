# Generated by Django 6.0.1 on 2026-01-28 06:20

import django.core.validators
import django.db.models.deletion
import uuid
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.CreateModel(
            name='ContourModificationTypeChoices',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('modification_type', models.CharField(blank=True, max_length=256, null=True, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'Contour Modification Type Choice',
                'verbose_name_plural': 'Contour Modification Type Choices',
            },
        ),
        migrations.CreateModel(
            name='DICOMSeries',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('series_instance_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('deidentified_series_instance_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('series_root_path', models.CharField(blank=True, max_length=256, null=True)),
                ('frame_of_reference_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('deidentified_frame_of_reference_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('series_description', models.CharField(blank=True, max_length=256, null=True)),
                ('series_date', models.DateField(blank=True, null=True)),
                ('deidentified_series_date', models.DateField(blank=True, null=True)),
                ('series_files_fully_read', models.BooleanField(default=False)),
                ('series_files_fully_read_datetime', models.DateTimeField(blank=True, null=True)),
                ('instance_count', models.IntegerField(blank=True, null=True)),
                ('series_processsing_status', models.CharField(blank=True, max_length=256, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'DICOM Series',
                'verbose_name_plural': 'DICOM Series',
            },
        ),
        migrations.CreateModel(
            name='DICOMStudy',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('study_instance_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('deidentified_study_instance_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('study_date', models.DateField(blank=True, null=True)),
                ('deidentified_study_date', models.DateField(blank=True, null=True)),
                ('study_time', models.TimeField(blank=True, help_text='Time the study was performed', null=True)),
                ('study_description', models.CharField(blank=True, max_length=256, null=True)),
                ('study_protocol', models.CharField(blank=True, max_length=256, null=True)),
                ('study_modality', models.CharField(blank=True, max_length=256, null=True)),
                ('accession_number', models.CharField(blank=True, help_text='Accession number for the study', max_length=256, null=True)),
                ('deidentified_accession_number', models.CharField(blank=True, help_text='Deidentified accession number', max_length=256, null=True)),
                ('study_id', models.CharField(blank=True, help_text='Study ID', max_length=256, null=True)),
                ('deidentified_study_id', models.CharField(blank=True, help_text='Deidentified study ID', max_length=256, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
            ],
            options={
                'verbose_name': 'DICOM Study',
                'verbose_name_plural': 'DICOM Studies',
                'ordering': ['-study_date'],
            },
        ),
        migrations.CreateModel(
            name='DICOMInstance',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('sop_instance_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('deidentified_sop_instance_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('instance_path', models.CharField(blank=True, max_length=256, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('series_instance_uid', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='rtstructcompare.dicomseries')),
            ],
            options={
                'verbose_name': 'DICOM Instance',
                'verbose_name_plural': 'DICOM Instances',
            },
        ),
        migrations.AddField(
            model_name='dicomseries',
            name='study',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='rtstructcompare.dicomstudy'),
        ),
        migrations.CreateModel(
            name='RTStructureFileImport',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('deidentified_sop_instance_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('deidentified_rt_structure_file_path', models.CharField(blank=True, max_length=256, null=True)),
                ('received_rt_structure_file_checksum', models.CharField(blank=True, max_length=256, null=True)),
                ('received_rt_structure_file_download_datetime', models.DateTimeField(blank=True, null=True)),
                ('server_segmentation_status', models.CharField(blank=True, max_length=256, null=True)),
                ('server_segmentation_updated_datetime', models.DateTimeField(blank=True, null=True)),
                ('reidentified_rt_structure_file_path', models.CharField(blank=True, max_length=256, null=True)),
                ('reidentified_rt_structure_file_export_datetime', models.DateTimeField(blank=True, null=True)),
                ('reidentified_rt_structure_file_sop_instance_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('reidentified_rt_structure_file_series_instance_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('reidentified_rt_structure_file_study_instance_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('reidentified_rt_structure_file_sop_class_uid', models.CharField(blank=True, max_length=256, null=True)),
                ('date_contour_reviewed', models.DateField(blank=True, help_text='Date when the contour was reviewed', null=True)),
                ('contour_modification_time_required', models.IntegerField(blank=True, help_text='Time required to modify the contours in this structure set in minutes. Please do not include time required to create or edit new structures which were not supposed to be autosegmented.', null=True)),
                ('assessor_name', models.CharField(blank=True, help_text='Name of the assessor who reviewed the contour', max_length=256, null=True)),
                ('overall_rating', models.IntegerField(blank=True, default=5, help_text='Overall rating of the automatic segementation quality between 0 to 10 where 10 indicates an excellent quality and 0 the worst possible quality.', null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)])),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('deidentified_series_instance_uid', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='rtstructcompare.dicomseries')),
            ],
            options={
                'verbose_name': 'RT Structure File Import',
                'verbose_name_plural': 'RT Structure File Imports',
            },
        ),
        migrations.CreateModel(
            name='RTStructureFileVOIData',
            fields=[
                ('id', models.UUIDField(default=uuid.uuid4, editable=False, primary_key=True, serialize=False)),
                ('volume_name', models.CharField(blank=True, help_text='Name of the volume', max_length=256, null=True)),
                ('contour_modification', models.CharField(blank=True, help_text='Contour modification required. If the contour was blank choose Not Segmented. Note that the definiton of major modification can include scenarios where you had to completely redraw the structure, where there was significant risk of underdose to the target or overdose to the organs at risk due to error, and any modification in an axial plane exceeding 1 cm. Additionally any other criteria that you feel made you label this as major modification is also fine as long as that is documented in the comments. ', max_length=256, null=True)),
                ('contour_modification_comments', models.TextField(blank=True, help_text='Comments about the contour modification.', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('contour_modification_type', models.ManyToManyField(blank=True, help_text='Type of contour modification made. You can select multiple options here or leave blank if this is not applicable. To add a new type of modification please contact your Administrator. ', to='rtstructcompare.contourmodificationtypechoices')),
                ('rt_structure_file_import', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='rtstructcompare.rtstructurefileimport')),
            ],
            options={
                'verbose_name': 'RT Structure File VOI Data',
                'verbose_name_plural': 'RT Structure File VOI Data',
            },
        ),
    ]
